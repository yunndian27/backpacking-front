(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"0278":function(e,t,a){e.exports=a.p+"img/backpacker-logo-app.55603393.png"},"1a5e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("q-layout",{attrs:{view:"hHh lpR fFf"}},[r("q-header",{staticClass:"bg-grey-9 text-white",attrs:{bordered:""}},[r("q-toolbar",[r("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(t){e.left=!e.left}}}),r("q-toolbar-title",[r("q-avatar",[r("img",{attrs:{src:a("0278")}})]),e._v("\n        背包客棧後台\n      ")],1),r("q-btn",{staticClass:"q-mr-md",attrs:{flat:""},on:{click:e.logout}},[e._v("登出   "),r("q-icon",{attrs:{name:"logout"}})],1)],1)],1),r("q-drawer",{attrs:{"show-if-above":"",bordered:"",side:"left","content-class":"bg-dark text-white"},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[r("div",[r("q-list",{staticStyle:{"max-width":"318px"},attrs:{padding:""}},[r("q-item",[r("q-item-section",{attrs:{avatar:""}},[r("q-avatar",[r("img",{attrs:{src:"https://cdn.quasar.dev/img/avatar2.jpg"}})])],1),r("q-item-section",[e._v("Brunhilde Panswick")])],1),r("div",{staticClass:"q-mb-xl"},[r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",exact:"","exact-active-class":"my-menu-link",to:"/admin"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"home"}})],1),r("q-item-section",[e._v("管理首頁")])],1),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",exact:"","exact-active-class":"my-menu-link",to:"/admin/forums"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"article"}})],1),r("q-item-section",[e._v("論壇管理")])],1),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",exact:"","exact-active-class":"my-menu-link",to:"/admin/articles"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"subject"}})],1),r("q-item-section",[e._v("文章管理")])],1),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",exact:"","exact-active-class":"my-menu-link",to:"/admin/users"}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"person"}})],1),r("q-item-section",[e._v("會員管理")])],1)],1),r("q-separator",{attrs:{spaced:""}}),r("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(t){return e.$router.replace("/")}}},[r("q-item-section",{attrs:{avatar:""}},[r("q-icon",{attrs:{name:"store"}})],1),r("q-item-section",[e._v("回前台")])],1)],1)],1)]),r("q-page-container",[r("router-view")],1)],1)},i=[],n=a("c973"),c=a.n(n),s=(a("d81d"),a("99af"),a("96cf"),{data:function(){return{articles:[],left:!0}},methods:{logout:function(){var e=this;return c()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.delete("/users/logout",{headers:{authorization:"Bearer "+e.$store.state.user.jwt.token}});case 3:e.$store.commit("user/logout"),"/"!==e.$route.path&&e.$router.push("/"),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),e.$q.dialog({title:"錯誤",message:"發生錯誤",color:"red-13",ok:!0});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},mounted:function(){var e=this;return c()(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.get("/articles");case 3:a=t.sent,r=a.data,e.articles=r.result.map((function(e){return e.image&&(e.image="".concat("https://backpacking20210824.herokuapp.com","/files/").concat(e.image)),e})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),e.$q.dialog({title:"錯誤",message:"取得文章失敗",color:"red-13",ok:!0});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),o=s,l=a("2877"),m=a("4d5a"),u=a("e359"),p=a("65c6"),v=a("9c40"),d=a("6ac5"),q=a("cb32"),f=a("0016"),g=a("9404"),b=a("1c1c"),k=a("66e5"),h=a("4074"),w=a("eb85"),x=a("09e3"),Q=a("714f"),$=a("eebe"),_=a.n($),y=Object(l["a"])(o,r,i,!1,null,null,null);t["default"]=y.exports;_()(y,"components",{QLayout:m["a"],QHeader:u["a"],QToolbar:p["a"],QBtn:v["a"],QToolbarTitle:d["a"],QAvatar:q["a"],QIcon:f["a"],QDrawer:g["a"],QList:b["a"],QItem:k["a"],QItemSection:h["a"],QSeparator:w["a"],QPageContainer:x["a"]}),_()(y,"directives",{Ripple:Q["a"]})}}]);