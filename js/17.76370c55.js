(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"0378":function(t,e,n){"use strict";var o=n("7037"),r=n.n(o),a=n("ded3"),i=n.n(a),s=(n("d3b7"),n("e6cf"),n("e260"),n("3ca3"),n("ddb0"),n("4de4"),n("159b"),n("7db0"),n("d81d"),n("2b0e")),c=n("87e8"),l=n("d882"),u=n("dde5"),f=n("e704");e["a"]=s["a"].extend({name:"QForm",mixins:[c["a"]],props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean},computed:{onEvents:function(){return i()(i()({},this.qListeners),{},{submit:this.submit,reset:this.reset})}},mounted:function(){this.validateIndex=0,!0===this.autofocus&&this.focus()},methods:{validate:function(t){var e=this,n=[],o="boolean"===typeof t?t:!0!==this.noErrorFocus;this.validateIndex++;for(var a=this.getValidationComponents(),i=function(t,n){e.$emit("validation-"+(!0===t?"success":"error"),n)},s=function(t){var r=a[t],s=r.validate();if("function"===typeof s.then)n.push(s.then((function(t){return{valid:t,comp:r}}),(function(t){return{valid:!1,comp:r,error:t}})));else if(!0!==s){if(!1===e.greedy)return i(!1,r),!0===o&&"function"===typeof r.focus&&r.focus(),{v:Promise.resolve(!1)};n.push({valid:!1,comp:r})}},c=0;c<a.length;c++){var l=s(c);if("object"===r()(l))return l.v}if(0===n.length)return i(!0),Promise.resolve(!0);var u=this.validateIndex;return Promise.all(n).then((function(t){if(u===e.validateIndex){var n=t.filter((function(t){return!0!==t.valid}));if(0===n.length)return i(!0),!0;var r=n[0],a=r.valid,s=r.comp;return i(!1,s),!0===o&&!0!==a&&"function"===typeof s.focus&&s.focus(),!1}}))},resetValidation:function(){this.validateIndex++,this.getValidationComponents().forEach((function(t){"function"===typeof t.resetValidation&&t.resetValidation()}))},submit:function(t){var e=this;void 0!==t&&Object(l["l"])(t),this.validate().then((function(n){!0===n&&(void 0!==e.qListeners.submit?e.$emit("submit",t):void 0!==t&&void 0!==t.target&&"function"===typeof t.target.submit&&t.target.submit())}))},reset:function(t){var e=this;void 0!==t&&Object(l["l"])(t),this.$emit("reset"),this.$nextTick((function(){e.resetValidation(),!0===e.autofocus&&!0!==e.noResetFocus&&e.focus()}))},focus:function(){var t=this;Object(f["a"])((function(){if(t.$el){var e=t.$el.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(t.$el.querySelectorAll("[tabindex]"),(function(t){return t.tabIndex>-1}));null!==e&&void 0!==e&&e.focus()}}))},getValidationComponents:function(){return Array.prototype.map.call(this.$el.getElementsByClassName("q-validation-component"),(function(t){return t.__vue__})).filter((function(t){return void 0!==t&&"function"===typeof t.validate}))}},render:function(t){return t("form",{staticClass:"q-form",on:this.onEvents},Object(u["c"])(this,"default"))}})},"56b4":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex justify-center items-center",attrs:{id:"register"}},[n("div",{staticClass:"regCard"},[n("div",{staticClass:"regform"},[n("h2",{staticClass:"regTitle"},[t._v("註冊")]),t._m(0),n("div",{staticClass:"regFormBox"},[n("q-form",{staticClass:"q-gutter-md",on:{submit:t.onSubmit,reset:t.onReset}},[n("q-input",{staticClass:"inputBg",attrs:{outlined:"",type:"text",label:"帳號 *",hint:"帳號長度限制為 4 到 20 個字","lazy-rules":"",state:t.state.account,rules:[function(t){return t&&t.length>=4||"帳號長度限制為 4 到 20 個字"}]},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}}),n("q-input",{staticClass:"inputBg",attrs:{outlined:"",label:"Email",hint:"請輸入有效的信箱","lazy-rules":"",state:t.state.email,rules:[function(t){return!!t||"Email is missing"},t.isValidEmail]},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),n("q-input",{staticClass:"inputBg",attrs:{outlined:"",type:"password",label:"密碼",hint:"密碼長度限制為 6 到 20 個字","lazy-rules":"",state:t.state.password,rules:[function(t){return t&&t.length>=6||"密碼長度限制為 6 到 20 個字"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),n("q-checkbox",{attrs:{size:"sm",val:"sm",color:"secondary"},model:{value:t.form.accept,callback:function(e){t.$set(t.form,"accept",e)},expression:"form.accept"}},[t._v("我已閱讀，並且同意遵守背包客棧自助旅行"),n("div",{staticClass:"textLink",attrs:{flat:""},on:{click:function(e){t.fixed=!0}}},[t._v("論壇規則")]),t._v("。\n          ")]),n("q-dialog",{model:{value:t.fixed,callback:function(e){t.fixed=e},expression:"fixed"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v("論壇規則")])]),n("q-separator"),n("q-card-section",{staticClass:"scroll dialogCard"},[n("p",[t._v("\n                使用者於本站註冊即代表同意遵守下列所有項目，不同意者不得註冊。"),n("br"),n("br"),t._v("\n                一、背包客棧為交流旅行資訊的園地，以推廣自助旅行並協助網友取得旅遊資訊為最高宗旨。"),n("br"),t._v("\n                二、發言時必需尊重他人，不得發表毀謗他人、人身攻擊、族群歧視、政治敏感、蓄意挑釁及任何違反法律或善良風俗及之言論。"),n("br"),t._v("\n                三、若有發現違反本站宗旨或偏離主題的言論，站內管理人員有權不經事先告知直接對您的發言做編修或刪除。"),n("br"),t._v("\n                四、不得發表違反著作權之內容，若需引用他人文章或圖片，必需註明出處並取得必要之許可。發文者必須自行遵守相關法規並承擔責任，本站無義務為使用者過濾發文內容或負擔法律責任。"),n("br"),t._v("\n                五、發文者於本站發表之文章，同意供維奇系統為平台的背包攻略所使用，並遵守背包攻略之授權規範。同時發文者同意本站相關人員將其文章彙整編輯為精華文章，除非發文者明確表達反對之意。"),n("br"),t._v("\n                六、您的文章可能透過本站之RSS系統被其他網站引用，或由站方摘要部分文字及照片至外站作為推廣之用。"),n("br"),t._v("\n                七、各版面管理人員有權基於個人主觀判斷進行版面管理，包括修改、編輯、移動、刪除等，對管理人員的處置有所疑義時，請直接向系統管理員反應，使用者於公開版面中討論站務管理問題將視同離題文章處理之。"),n("br"),t._v("\n                八、經系統管理員認定不遵守本站規定或不適應站內文化者，系統管理員有權做出刪除帳號或禁止發表等必要處分。"),n("br"),t._v("\n                九、未經當事人同意不得公佈他人隱私資料於本站，例如姓名、地址、電話等。任何不利於他人之言論與指涉，無論是否屬實，發文者須自負法律責任。"),n("br"),t._v("\n                十、您必須閱讀並同意本站隱私權政策。"),n("br"),t._v("\n                十一、本守則得由系統管理員隨時增訂編修，即刻生效並朔及既往，不同意新條文者須於三日內自行刪除於本站內發表之文章。"),n("br"),t._v("\n                十二、使用者於本站註冊即代表同意遵守本守則中所有項目，若不同意者不得註冊。"),n("br")])]),n("q-separator"),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"同意",color:"primary"}})],1)],1)],1),n("div",{staticClass:"flex justify-center"},[n("q-btn",{staticClass:"q-px-md",attrs:{unelevated:"",label:"註冊",type:"submit",color:"primary"}}),n("q-btn",{staticClass:"q-px-md q-ml-lg",attrs:{outline:"",label:"重置",type:"reset",color:"grey-9"}})],1)],1)],1)])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"regInfo"},[t._v("請輸入您想要的帳號名稱，請注意，此帳號名稱將不可隨意更換。"),n("br"),t._v("登入後可從設定中編輯個人檔案，使用者名稱如同筆名，可以編輯更換。")])}],a=n("c973"),i=n.n(a);n("96cf");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(t){var e="string"===typeof t||t instanceof String;if(!e){var n=s(t);throw null===t?n="null":"object"===n&&(n=t.constructor.name),new TypeError("Expected a string but received a ".concat(n))}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;for(var n in e)"undefined"===typeof t[n]&&(t[n]=e[n]);return t}function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t,e){var n,o;c(t),"object"===u(e)?(n=e.min||0,o=e.max):(n=arguments[1],o=arguments[2]);var r=encodeURI(t).split(/%..|./).length-1;return r>=n&&("undefined"===typeof o||r<=o)}var d={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1};function p(t,e){c(t),e=l(e,d),e.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var n=t.split("."),o=n[n.length-1];if(e.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20\u00A9\uFFFD]/.test(o))return!1}return!(!e.allow_numeric_tld&&/^\d+$/.test(o))&&n.every((function(t){return!(t.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(t)&&(!/[\uff01-\uff5e]/.test(t)&&(!/^-|-$/.test(t)&&!(!e.allow_underscores&&/_/.test(t)))))}))}var m="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",v="(".concat(m,"[.]){3}").concat(m),h=new RegExp("^".concat(v,"$")),_="(?:[0-9a-fA-F]{1,4})",b=new RegExp("^("+"(?:".concat(_,":){7}(?:").concat(_,"|:)|")+"(?:".concat(_,":){6}(?:").concat(v,"|:").concat(_,"|:)|")+"(?:".concat(_,":){5}(?::").concat(v,"|(:").concat(_,"){1,2}|:)|")+"(?:".concat(_,":){4}(?:(:").concat(_,"){0,1}:").concat(v,"|(:").concat(_,"){1,3}|:)|")+"(?:".concat(_,":){3}(?:(:").concat(_,"){0,2}:").concat(v,"|(:").concat(_,"){1,4}|:)|")+"(?:".concat(_,":){2}(?:(:").concat(_,"){0,3}:").concat(v,"|(:").concat(_,"){1,5}|:)|")+"(?:".concat(_,":){1}(?:(:").concat(_,"){0,4}:").concat(v,"|(:").concat(_,"){1,6}|:)|")+"(?::((?::".concat(_,"){0,5}:").concat(v,"|(?::").concat(_,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(c(t),e=String(e),!e)return x(t,4)||x(t,6);if("4"===e){if(!h.test(t))return!1;var n=t.split(".").sort((function(t,e){return t-e}));return n[3]<=255}return"6"===e&&!!b.test(t)}var g={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1},y=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,F=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,q=/^[a-z\d]+$/,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,$=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,C=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,E=254;function k(t){var e=t.replace(/^"(.+)"$/,"$1");if(!e.trim())return!1;var n=/[\.";<>]/.test(e);if(n){if(e===t)return!1;var o=e.split('"').length===e.split('\\"').length;if(!o)return!1}return!0}function S(t,e){if(c(t),e=l(e,g),e.require_display_name||e.allow_display_name){var n=t.match(y);if(n){var o=n[1];if(t=t.replace(o,"").replace(/(^<|>$)/g,""),o.endsWith(" ")&&(o=o.substr(0,o.length-1)),!k(o))return!1}else if(e.require_display_name)return!1}if(!e.ignore_max_length&&t.length>E)return!1;var r=t.split("@"),a=r.pop(),i=r.join("@"),s=a.toLowerCase();if(e.domain_specific_validation&&("gmail.com"===s||"googlemail.com"===s)){i=i.toLowerCase();var u=i.split("+")[0];if(!f(u.replace(".",""),{min:6,max:30}))return!1;for(var d=u.split("."),m=0;m<d.length;m++)if(!q.test(d[m]))return!1}if(!1===e.ignore_max_length&&(!f(i,{max:64})||!f(a,{max:254})))return!1;if(!p(a,{require_tld:e.require_tld})){if(!e.allow_ip_domain)return!1;if(!x(a)){if(!a.startsWith("[")||!a.endsWith("]"))return!1;var v=a.substr(1,a.length-2);if(0===v.length||!x(v))return!1}}if('"'===i[0])return i=i.slice(1,i.length-1),e.allow_utf8_local_part?C.test(i):w.test(i);for(var h=e.allow_utf8_local_part?$:F,_=i.split("."),b=0;b<_.length;b++)if(!h.test(_[b]))return!1;return!e.blacklisted_chars||-1===i.search(new RegExp("[".concat(e.blacklisted_chars,"]+"),"g"))}var z={data:function(){return{form:{account:"",email:"",password:"",accept:!1},fixed:!1}},computed:{state:function(){var t=this.form.account,e=this.form.password,n=this.form.email,o=this.form.accept;return{account:0===t.length?null:t.length>=4&&t.length<=20,password:0===e.length?null:e.length>=6&&e.length<=20,email:0===n.length?null:S(n),accept:!1!==o||null}}},methods:{isValidEmail:function(t){var e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||"請確認信箱是否正確"},onSubmit:function(){var t=this;return i()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/users",t.form);case 3:t.$q.dialog({title:"註冊成功",message:"歡迎成為會員",color:"red-13",ok:!0,preventClose:!0}),t.$router.push("/"),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0),t.$q.dialog({title:"失敗",message:e.t0.response.data.message,color:"red-13",ok:!0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onReset:function(){this.form.account="",this.form.email="",this.form.password="",this.form.accept=!1}}},A=z,j=n("2877"),D=n("0378"),B=n("27f9"),I=n("8f8e"),R=n("24e8"),Q=n("f09f"),V=n("a370"),L=n("eb85"),O=n("4b7e"),Z=n("9c40"),N=n("7f67"),P=n("eebe"),T=n.n(P),K=Object(j["a"])(A,o,r,!1,null,null,null);e["default"]=K.exports;T()(K,"components",{QForm:D["a"],QInput:B["a"],QCheckbox:I["a"],QDialog:R["a"],QCard:Q["a"],QCardSection:V["a"],QSeparator:L["a"],QCardActions:O["a"],QBtn:Z["a"]}),T()(K,"directives",{ClosePopup:N["a"]})},"7f67":function(t,e,n){"use strict";var o=n("9e62"),r=n("d728");function a(t){if(!1===t)return 0;if(!0===t||void 0===t)return 1;var e=parseInt(t,10);return isNaN(e)?0:e}function i(t){var e=t.__qclosepopup;void 0!==e&&(t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup)}e["a"]={name:"close-popup",bind:function(t,e,n){var s=e.value;void 0!==t.__qclosepopup&&(i(t),t.__qclosepopup_destroyed=!0);var c={depth:a(s),handler:function(t){0!==c.depth&&setTimeout((function(){Object(o["b"])(n.componentInstance||n.context,t,c.depth)}))},handlerKey:function(t){!0===Object(r["a"])(t,13)&&c.handler(t)}};t.__qclosepopup=c,t.addEventListener("click",c.handler),t.addEventListener("keyup",c.handlerKey)},update:function(t,e){var n=e.value,o=e.oldValue;void 0!==t.__qclosepopup&&n!==o&&(t.__qclosepopup.depth=a(n))},unbind:function(t){void 0===t.__qclosepopup_destroyed?i(t):delete t.__qclosepopup_destroyed}}},eebe:function(t,e){t.exports=function(t,e,n){var o;if("function"===typeof t.exports?(o=t.exports.extendOptions,o[e]=t.exports.options[e]):o=t.options,void 0===o[e])o[e]=n;else{var r=o[e];for(var a in n)void 0===r[a]&&(r[a]=n[a])}}}}]);